<!DOCTYPE html>
<html>

<head>
    <title>MB's Smash Overlay Tool</title>
    <style>
        .form-row {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            margin-bottom: 1em;
            gap: 1em;
        }
        .form-players-section {
            display: flex;
            flex-direction: row;
            justify-content: space-around;
            align-items: center;
        }
        .form-player-container {
            display: flex;
            flex-direction: column;
        }
        .form-info-section {
            display: flex;
            flex-direction: row;
            justify-content: space-around;
            width: 69%;
            margin: auto;
        }
        .form-casters-section {
            display: flex;
            flex-direction: row;
            justify-content: space-around;
            width: 69%;
            margin: auto;
        }
        .form-section-header {
            display: flex;
            flex-direction: row;
            justify-content: center;
        }
        .header {
            display: flex;
            flex-direction: row;
            justify-content: space-around;
            align-items: center;
            margin: auto;
            width: 50%;
        }
        .form-submit-button {
            display: flex;
            flex-direction: row;
            justify-content: center;
            margin-top: 3em;
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>MB's Smash Overlay Tool</h1>
    </div>

    <form method="POST">
        <div class="form-section-header">
            <h2>Player Info</h2>
        </div>
        <div class="form-players-section">
                <div class="form-players-section">
                    <div class="form-player-container">
                        {% for file, content in player_1_files.items() %}
                            <div class="form-row">
                                <h3>{{ format_filename(file) }}</h3>
                                {% if file == 'Player1-Fighter.txt' %}
                                    <select name="{{ file }}">
                                        {% for fighter in fighters %}
                                            <option value="{{ fighter }}" {% if content == fighter %}selected{% endif %}>{{ fighter }}</option>
                                        {% endfor %}
                                    </select>
                                {% else %}
                                    <textarea name="{{ file }}">{{ content }}</textarea>
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            <div class="form-vs-divider">
                    <h1>VS</h1>
            </div>
            <div class="form-player-container">
                {% for file, content in player_2_files.items() %}
                    <div class="form-row">
                        <h3>{{ format_filename(file) }}</h3>
                        {% if file == 'Player2-Fighter.txt' %}
                            <select name="{{ file }}">
                                {% for fighter in fighters %}
                                    <option value="{{ fighter }}" {% if content == fighter %}selected{% endif %}>{{ fighter }}</option>
                                {% endfor %}
                            </select>
                        {% else %}
                            <textarea name="{{ file }}">{{ content }}</textarea>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        </div>

        <div class="form-section-header">
            <h2>Tournament Info</h2>
        </div>
        <div class="form-info-section">
            {% for file, content in info_files.items() %}
                <div class="form-row">
                    <h3>{{ format_filename(file) }}</h3>
                    <textarea name="{{ file }}">{{ content }}</textarea>
                </div>
            {% endfor %}
        </div>
        <div class="form-section-header">
            <h2>Caster Info</h2>
        </div>
        <div class="form-casters-section">
            {% for file, content in casters_files.items() %}
                <div class="form-row">
                    <h3>{{ format_filename(file) }}</h3>
                    <textarea name="{{ file }}">{{ content }}</textarea>
                </div>
            {% endfor %}
        </div>
        <div class="form-submit-button">
            <input type="submit" value="Save Changes">
        </div>
    </form>
</body>

</html>